{
  "hash": "791789e504f532eda1b1797d60c9f82b",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Data\"\nformat:\n  html:\n    toc: true\n    toc-expansion: true\n    fig-height: 3\n---\n\n\n::: {.cell}\n\n:::\n\n\nThis page is a reference for several datasets that we use in the course.\n\n## Four life outcomes\n\nThe file [nlsy_outcomes.csv](assets/nlsy_outcomes.csv) contains data from the [NLSY97](https://www.bls.gov/nls/nlsy97.htm) cross-sectional sample (excluding oversamples). Each person (indexed by `id`) has four rows corresponding to four outcomes: high school completion, BA completion, marriage, and first birth.\n\n-   `id` is the person identifier\n-   `sex` is a covariate from the baseline interview\n-   `race` is a covariate from the baseline interview\n-   `outcome` is the outcome that the row summarizes: `educ_hs` for high school completion, `educ_ba` for college, `married` for first marriage, and `parent` for first birth\n-   `time` is the age in years at which the outcome occurs, or the unit is censored\n-   `censored` is an indicator variable coded `FALSE` if the outcome occurs and `TRUE` if the unit was censored: the last interview happened without the event occurring. For units with `censored = TRUE`, the `time` variable is the age at the last interview.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnlsy_outcomes <- read_csv(\"https://ilundberg.github.io/eventhistory/assets/nlsy_outcomes.csv\")\n```\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\nWhen analyzing these data, you should first filter the data to a single value of `outcome` that you plan to study. The figure below shows Kaplan-Meier survival curves for these four outcomes.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](data_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n## Employment duration\n\nThis dataset can be used to model the duration of an employment spell as a function of covariates defined at the beginning of the spell.\n\nThe file [employment_duration.csv](assets/employment_duration.csv) contains data from the [NLSY97](https://www.bls.gov/nls/nlsy97.htm) cross-sectional sample (excluding oversamples). Each row is a (person $\\times$ employment spell). Variables are defined as follows:\n\n-   `id` is a person identifier\n-   `time` is the duration of the employment spell in years. It begins with the month a respondent moves from being non-employed to being employed at least one week. It ends with the month a respondent becomes non-employed again for an entire month.\n-   `censored` is an indicator for being censored, coded `TRUE` if the last interview occurred during this employment spell and `FALSE` if the end of the employment spell was observed\n-   Two covariates are defined at the baseline survey: `sex` and `race`\n-   Four covariates are defined at the start of the employment spell: `age`, `education`, `marital`, and `parent` (whether the respondent is a parent)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nemployment_duration <- read_csv(\"https://ilundberg.github.io/eventhistory/assets/employment_duration.csv\")\n```\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\nThe figure below shows a Kaplan-Meier survival curve for first marriage duration in these data.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](data_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n## First marriage duration\n\nThis dataset can be used to model the duration of a first marriage as a function of covariates defined at the beginning of the marriage. It can also be used to reason about competing risks, because marriages end for several reasons recorded in the `how_end` variable.\n\nThe file [first_marriage_duration.csv](assets/first_marriage_duration.csv) contains data from the [NLSY97](https://www.bls.gov/nls/nlsy97.htm) cross-sectional sample (excluding oversamples). Each row is a person who reports the start of a first marriage.\n\n-   `id` is a person identifier\n-   `censored` is an indicator for being censored, coded `TRUE` if the last interview occurred while the respondent was still married and `FALSE` if otherwise (i.e., end of marriage was observed)\n-   `time` is the duration of the first marriage in years, until either the end of the marriage or censoring\n-   `how_end` is how the marriage ended: `Censored`, `Divorced`, `Legally Separated`, or `Widowed`\n-   Two covariates are defined at the baseline survey: `sex` and `race`\n-   Three covariates are defined at the start of the first marriage: `age`, `education`, and `parent` (whether the respondent is a parent)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfirst_marriage_duration <- read_csv(\"https://ilundberg.github.io/eventhistory/assets/first_marriage_duration.csv\")\n```\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\nThe figure below shows a Kaplan-Meier survival curve for first marriage duration in these data.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](data_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\n## U.S. life table deaths\n\nUsing 2023 U.S. age-specific mortality data from an [NCHS report](https://www.cdc.gov/nchs/products/databriefs/db548.htm), I generated deaths for a hypothetical population that experiences these rates, available in [deaths.csv](assets/deaths.csv).\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndeaths <- read_csv(\"https://ilundberg.github.io/eventhistory/assets/deaths.csv\")\n```\n:::\n\n\nThese data include\n\n* `id` indexes simulated persons\n* `age` is the time variable\n* `died` is whether the person died (`died = 1`) or was censored (`died = 0`)\n\nThe figure below visualizes Kaplan-Meier survival estimates in these data.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](data_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n\n## Heart recipients\n\nThese data come from a medical trial that tracked survival outcomes of patients receiving heart transplants. \n\n> Crowley, J., & Hu, M. (1977). Covariance analysis of heart transplant survival data. Journal of the American Statistical Association, 72(357), 27-36.\n\nThe trail enrolled people eligible for heart transplants, some of whom later received transplants and some did not. The full data are available in the `jasa` data object of the `survival` package. A simplified version of the data focuses on survival outcomes post-transplant for transplant recipients. This simplified file is [heart_recipients.csv](assets/heart_recipients.csv).\n\n\n::: {.cell}\n\n```{.r .cell-code}\nheart_recipients <- read_csv(\"https://ilundberg.github.io/eventhistory/assets/heart_recipients.csv\")\n```\n:::\n\n\nIn the `heart_recipients` data,\n\n* `t` is time in years from transplant until either death or censoring\n* `c` is censoring, coded `TRUE` for censoring and `FALSE` for death\n* `age` is the patient's age at the time of transplant\n\nBelow is a Kaplan-Meier survival curve with these data.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](data_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\n\n## Justice retirement\n\nThese data were originally collected by German Rodriguez ([original source](https://grodri.github.io/survival/justices)). He used Wikipedia and the Supreme Court website to create a dataset on the time that Supreme Court justices were in office, and how their time ended (retirement, resignation, death, still an incumbent).\n\nA simplified version of these data is [retirement.csv](assets/retirement.csv)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nretirement <- read_csv(\"https://ilundberg.github.io/eventhistory/assets/retirement.csv\")\n```\n:::\n\n\nThese data contain\n\n- `number` indexes Supreme Court justices\n- `name` contains names\n- `state` contains the justice's home state\n- `age_appointed` is the age at which the justice was appointed\n- `status` indicates how the term ended (`Resigned`, `Retired`, or `Died`)\n- `t` is the total time from appointment until `status`\n\nThe graph below shows the cumulative proportion in each status over time.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](data_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "data_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}